<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Harf ve Kelime Oyunu</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #ffccd5, #c9f5ff);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    
    .container {
      max-width: 800px;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      border: 8px solid #ff9ebb;
    }
    
    h1 {
      color: #ff6b9d;
      font-size: 2.5rem;
      margin-bottom: 20px;
      text-shadow: 2px 2px 0 #ffd1dc;
    }
    
    .subtitle {
      color: #5fa8ff;
      font-size: 1.2rem;
      margin-bottom: 30px;
    }
    
    .alphabet {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 30px;
      background-color: #e6f7ff;
      padding: 20px;
      border-radius: 15px;
      border: 3px solid #5fa8ff;
    }
    
    .letter-btn {
      width: 50px;
      height: 50px;
      font-size: 1.5rem;
      font-weight: bold;
      background-color: #ffd1dc;
      border: 3px solid #ff9ebb;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .letter-btn:hover {
      background-color: #ffb6c1;
      transform: scale(1.1);
    }
    
    .letter-btn.selected {
      background-color: #7ae582;
      border-color: #5ac763;
      color: white;
    }
    
    .selected-letters {
      font-size: 1.5rem;
      margin: 20px 0;
      color: #5fa8ff;
      font-weight: bold;
      min-height: 40px;
    }
    
    button {
      font-size: 1.3rem;
      padding: 12px 25px;
      margin: 10px;
      cursor: pointer;
      border: none;
      border-radius: 15px;
      transition: all 0.3s;
      font-weight: bold;
    }
    
    #startBtn {
      background-color: #5fa8ff;
      color: white;
      box-shadow: 0 4px 0 #3a7bd5;
    }
    
    #startBtn:hover {
      background-color: #4a97f5;
      transform: translateY(-2px);
    }
    
    #startBtn:active {
      transform: translateY(2px);
      box-shadow: 0 2px 0 #3a7bd5;
    }
    
    #submitBtn {
      background-color: #7ae582;
      color: white;
      box-shadow: 0 4px 0 #5ac763;
      font-size: 1.5rem;
      padding: 15px 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px auto;
    }
    
    #submitBtn:hover {
      background-color: #68d571;
      transform: translateY(-2px);
    }
    
    #submitBtn:active {
      transform: translateY(2px);
      box-shadow: 0 2px 0 #5ac763;
    }
    
    #nextBtn {
      background-color: #ffb347;
      color: white;
      box-shadow: 0 4px 0 #e69500;
      font-size: 1.5rem;
      padding: 15px 30px;
      display: none;
      align-items: center;
      justify-content: center;
      margin: 20px auto;
    }
    
    #nextBtn:hover {
      background-color: #ffa235;
      transform: translateY(-2px);
    }
    
    #nextBtn:active {
      transform: translateY(2px);
      box-shadow: 0 2px 0 #e69500;
    }
    
    .game-area {
      margin-top: 20px;
      display: none;
    }
    
    .question {
      font-size: 2rem;
      color: #ff6b9d;
      margin: 20px 0;
      padding: 15px;
      background-color: #fff9fc;
      border-radius: 15px;
      border: 3px dashed #ff9ebb;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .answer-section {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    
    .input-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    #answer {
      font-size: 1.5rem;
      padding: 12px;
      text-align: center;
      width: 200px;
      border: 3px solid #ff9ebb;
      border-radius: 15px;
      background-color: #fff9fc;
    }
    
    #clearBtn {
      background-color: #ff6b6b;
      color: white;
      width: 50px;
      height: 50px;
      font-size: 1.5rem;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    #clearBtn:hover {
      background-color: #ff5252;
    }
    
    .selected-letters-answer {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      max-width: 300px;
    }
    
    .answer-letter {
      width: 40px;
      height: 40px;
      font-size: 1.3rem;
      font-weight: bold;
      background-color: #ffd1dc;
      border: 2px solid #ff9ebb;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .answer-letter:hover {
      background-color: #ffb6c1;
    }
    
    #message {
      margin-top: 15px;
      font-size: 1.5rem;
      font-weight: bold;
      min-height: 40px;
    }
    
    .correct {
      color: #7ae582;
    }
    
    .wrong {
      color: #ff6b6b;
    }
    
    .stats {
      display: flex;
      justify-content: space-around;
      margin-top: 30px;
      background-color: #e6f7ff;
      padding: 15px;
      border-radius: 15px;
      border: 3px solid #5fa8ff;
    }
    
    .stat-box {
      flex: 1;
      padding: 10px;
    }
    
    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      color: #ff6b9d;
    }
    
    .stat-label {
      font-size: 1rem;
      color: #5fa8ff;
    }
    
    #wrongMark {
      font-size: 100px;
      color: red;
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10000;
    }
    
    .fireworks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: transparent;
      z-index: 9999;
    }
    
    .tick-icon {
      font-size: 1.8rem;
      margin-right: 10px;
    }
    
    .speaker-icon {
      font-size: 2rem;
      margin-right: 10px;
    }
    
    .sound-btn {
      background-color: #ffb347;
      color: white;
      box-shadow: 0 4px 0 #e69500;
      margin-top: 10px;
    }
    
    .sound-btn:hover {
      background-color: #ffa235;
    }
    
    .game-complete {
      font-size: 2rem;
      color: #ff6b9d;
      margin: 20px 0;
      padding: 20px;
      background-color: #fff9fc;
      border-radius: 15px;
      border: 3px solid #ff9ebb;
      display: none;
    }
    
    .load-message {
      font-size: 1.2rem;
      color: #5fa8ff;
      margin: 10px 0;
    }
    
    .error-message {
      color: #ff6b6b;
      font-weight: bold;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Harf ve Kelime Oyunu üéâ</h1>
    <p class="subtitle">Harfleri se√ß, kelimeleri yaz!</p>
    
    <div class="load-message" id="loadMessage">Kelime listesi y√ºkleniyor...</div>
    <div class="error-message" id="errorMessage" style="display: none;"></div>
    
    <div class="alphabet" id="alphabet">
      <!-- T√ºrk√ße alfabe butonlarƒ± JavaScript ile eklenecek -->
    </div>
    
    <div class="selected-letters" id="selectedLetters">
      Hen√ºz harf se√ßmediniz
    </div>
    
    <button id="startBtn">Oyunu Ba≈ülat</button>
    
    <div class="game-area" id="game">
      <div class="question" id="question">
        <span class="speaker-icon">üîä</span>
        <span id="questionText">Sesi dinleyin ve cevabƒ± yazƒ±n</span>
      </div>
      
      <div class="answer-section">
        <div class="input-container">
          <input id="answer" placeholder="Cevabƒ± buraya yaz">
          <button id="clearBtn">‚å´</button>
        </div>
        <div class="selected-letters-answer" id="selectedLettersAnswer">
          <!-- Se√ßili harfler burada g√∂sterilecek -->
        </div>
      </div>
      
      <button id="submitBtn">
        <span class="tick-icon">‚úì</span> Cevapla
      </button>
      
      <button id="nextBtn">
        <span class="tick-icon">‚û°Ô∏è</span> Sonraki Soru
      </button>
      
      <button class="sound-btn" id="repeatBtn">
        <span class="speaker-icon">üîä</span> Soruyu Tekrarla
      </button>
      
      <div id="message"></div>
      
      <div class="game-complete" id="gameComplete">
        üéâ Tebrikler! T√ºm sorularƒ± tamamladƒ±nƒ±z! üéâ
      </div>
    </div>
    
    <div class="stats">
      <div class="stat-box">
        <div class="stat-value" id="currentStreak">0</div>
        <div class="stat-label">Doƒüru Serisi</div>
      </div>
      <div class="stat-box">
        <div class="stat-value" id="longestStreak">0</div>
        <div class="stat-label">En Uzun Seri</div>
      </div>
    </div>
  </div>

  <div id="wrongMark">‚ùå</div>

  <!-- Sesler -->
  <audio id="clap" src="Sound/applause.mp3" preload="auto"></audio>
  <audio id="error" src="Sound/wrong.mp3" preload="auto"></audio>

  <canvas class="fireworks"></canvas>

  <script>
    // T√ºrk√ße alfabe (b√ºy√ºk harfler)
    const turkishAlphabet = [
      'A', 'B', 'C', '√á', 'D', 'E', 'F', 'G', 'ƒû', 'H', 
      'I', 'ƒ∞', 'J', 'K', 'L', 'M', 'N', 'O', '√ñ', 'P', 
      'R', 'S', '≈û', 'T', 'U', '√ú', 'V', 'Y', 'Z'
    ];

    let turkceKelimeler = [];
    let letters = [];
    let target = "";
    let mode = "kelime";
    let currentStreak = 0;
    let longestStreak = 0;
    let isWaitingForNextRound = false;
    let questionCounter = 0;
    let usedQuestions = [];
    let availableQuestions = [];

    const startBtn = document.getElementById("startBtn");
    const submitBtn = document.getElementById("submitBtn");
    const nextBtn = document.getElementById("nextBtn");
    const repeatBtn = document.getElementById("repeatBtn");
    const clearBtn = document.getElementById("clearBtn");
    const answerInput = document.getElementById("answer");
    const questionText = document.getElementById("questionText");
    const selectedLettersElement = document.getElementById("selectedLetters");
    const selectedLettersAnswerElement = document.getElementById("selectedLettersAnswer");
    const currentStreakElement = document.getElementById("currentStreak");
    const longestStreakElement = document.getElementById("longestStreak");
    const alphabetElement = document.getElementById("alphabet");
    const gameCompleteElement = document.getElementById("gameComplete");
    const loadMessageElement = document.getElementById("loadMessage");
    const errorMessageElement = document.getElementById("errorMessage");

    // Ses dosyalarƒ±nƒ± kontrol et
    function checkAudioFiles() {
      const clapAudio = document.getElementById('clap');
      const errorAudio = document.getElementById('error');
      
      clapAudio.addEventListener('error', () => {
        console.error('Alkƒ±≈ü ses dosyasƒ± y√ºklenemedi');
        errorMessageElement.textContent = 'Alkƒ±≈ü ses dosyasƒ± y√ºklenemedi. Ses efektleri √ßalƒ±≈ümayabilir.';
        errorMessageElement.style.display = 'block';
      });
      
      errorAudio.addEventListener('error', () => {
        console.error('Hata ses dosyasƒ± y√ºklenemedi');
        errorMessageElement.textContent = 'Hata ses dosyasƒ± y√ºklenemedi. Ses efektleri √ßalƒ±≈ümayabilir.';
        errorMessageElement.style.display = 'block';
      });
      
      clapAudio.addEventListener('canplaythrough', () => {
        console.log('Alkƒ±≈ü ses dosyasƒ± ba≈üarƒ±yla y√ºklendi');
      });
      
      errorAudio.addEventListener('canplaythrough', () => {
        console.log('Hata ses dosyasƒ± ba≈üarƒ±yla y√ºklendi');
      });
    }

    // Kelime listesini y√ºkle
    async function loadWordList() {
      try {
        const response = await fetch('kelime-listesi.html');
        
        if (!response.ok) {
          throw new Error(`HTTP hatasƒ±! Durum: ${response.status}`);
        }
        
        const html = await response.text();
        
        // HTML'den kelime listesini √ßƒ±kar
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        const wordListElement = doc.getElementById('turkce-kelimeler');
        
        if (wordListElement) {
          const wordsText = wordListElement.textContent;
          turkceKelimeler = wordsText.split(',').map(word => word.trim().toUpperCase()).filter(word => word.length > 0);
          loadMessageElement.textContent = `Kelime listesi y√ºklendi! (${turkceKelimeler.length} kelime)`;
          console.log('Kelime listesi ba≈üarƒ±yla y√ºklendi:', turkceKelimeler.length, 'kelime');
        } else {
          throw new Error('Kelime listesi bulunamadƒ±');
        }
      } catch (error) {
        console.error('Kelime listesi y√ºklenirken hata olu≈ütu:', error);
        loadMessageElement.textContent = 'Kelime listesi y√ºklenemedi. Varsayƒ±lan liste kullanƒ±lƒ±yor.';
        errorMessageElement.textContent = `Kelime listesi y√ºklenirken hata: ${error.message}`;
        errorMessageElement.style.display = 'block';
        
        // Geli≈ütirilmi≈ü varsayƒ±lan kelime listesi (yedek)
        turkceKelimeler = [
          "AN", "ANA", "EN", "NE", "EL", "AL", "ANNE", "ELE", "ET", "OT", "ON",
          "AT", "TANE", "TEN", "NET", "TEL", "LALE", "NANE", "ALET", "ELMA", "KALE",
          "KOL", "OK", "KO", "AK", "KA", "LA", "LE", "TE", "TA", "NA", "ME", "MA",
          "SU", "US", "SUS", "MASA", "SES", "ASA", "Sƒ∞S", "ƒ∞NEK", "KEK", "Kƒ∞M", "KEM",
          "YEM", "MEME", "DEDE", "BABA", "ANNE", "BEBEK", "TOP", "POT", "BOT", "NOT"
        ];
      }
    }

    // Tarayƒ±cƒ± desteƒüini kontrol et
    function checkBrowserSupport() {
      if (!('speechSynthesis' in window)) {
        errorMessageElement.textContent = 'Tarayƒ±cƒ±nƒ±z ses sentezleme √∂zelliƒüini desteklemiyor. Sesli sorular √ßalƒ±≈ümayacak.';
        errorMessageElement.style.display = 'block';
        return false;
      }
      return true;
    }

    // T√ºrk√ße alfabe butonlarƒ±nƒ± olu≈ütur
    function createAlphabetButtons() {
      turkishAlphabet.forEach(letter => {
        const button = document.createElement('button');
        button.className = 'letter-btn';
        button.textContent = letter;
        button.dataset.letter = letter;
        button.addEventListener('click', toggleLetterSelection);
        alphabetElement.appendChild(button);
      });
    }

    // Harf se√ßimi/dese√ßimi
    function toggleLetterSelection(e) {
      const button = e.target;
      const letter = button.dataset.letter;
      
      if (button.classList.contains('selected')) {
        button.classList.remove('selected');
        letters = letters.filter(l => l !== letter);
      } else {
        button.classList.add('selected');
        letters.push(letter);
      }
      
      updateSelectedLettersDisplay();
      updateAnswerLettersDisplay();
    }

    // Se√ßili harfleri g√∂ster
    function updateSelectedLettersDisplay() {
      if (letters.length === 0) {
        selectedLettersElement.textContent = "Hen√ºz harf se√ßmediniz";
      } else {
        selectedLettersElement.textContent = `Se√ßili harfler: ${letters.join(', ')}`;
      }
    }

    // Cevap kutusu yanƒ±nda se√ßili harfleri g√∂ster
    function updateAnswerLettersDisplay() {
      selectedLettersAnswerElement.innerHTML = '';
      
      letters.forEach(letter => {
        const letterElement = document.createElement('div');
        letterElement.className = 'answer-letter';
        letterElement.textContent = letter;
        letterElement.addEventListener('click', () => {
          answerInput.value += letter;
          answerInput.focus();
        });
        selectedLettersAnswerElement.appendChild(letterElement);
      });
    }

    // Oyunu ba≈ülat
    function startGame() {
      if (letters.length === 0) {
        alert("L√ºtfen en az bir harf se√ßin!");
        return;
      }
      
      document.getElementById("game").style.display = "block";
      currentStreak = 0;
      questionCounter = 0;
      usedQuestions = [];
      updateStreakDisplay();
      isWaitingForNextRound = false;
      nextBtn.style.display = 'none';
      gameCompleteElement.style.display = 'none';
      errorMessageElement.style.display = 'none';
      
      // Kullanƒ±labilir sorularƒ± hazƒ±rla
      prepareAvailableQuestions();
      newRound();
    }

    // Kullanƒ±labilir sorularƒ± hazƒ±rla
    function prepareAvailableQuestions() {
      availableQuestions = [];
      
      // Harf sorularƒ±
      letters.forEach(letter => {
        availableQuestions.push({
          type: 'harf',
          value: letter
        });
      });
      
      // Kelime sorularƒ±
      const possibleWords = turkceKelimeler.filter(w =>
        w.split("").every(harf => letters.includes(harf))
      );
      
      possibleWords.forEach(word => {
        availableQuestions.push({
          type: 'kelime',
          value: word
        });
      });
      
      // Sorularƒ± karƒ±≈ütƒ±r
      availableQuestions = shuffleArray(availableQuestions);
      
      console.log(`Hazƒ±rlanan sorular: ${availableQuestions.length} adet`);
    }

    // Dizi karƒ±≈ütƒ±rma
    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }

    // Yeni tur
    function newRound() {
      if (availableQuestions.length === 0) {
        // T√ºm sorular bitti
        gameCompleteElement.style.display = 'block';
        submitBtn.style.display = 'none';
        nextBtn.style.display = 'none';
        questionText.textContent = "T√ºm sorular tamamlandƒ±!";
        return;
      }
      
      questionCounter++;
      
      // 3-4 kelime sorusundan sonra 1 harf sorusu
      let questionType;
      if (questionCounter % 5 === 0) {
        questionType = 'harf';
      } else {
        questionType = 'kelime';
      }
      
      // Uygun bir soru bul
      let questionIndex = -1;
      for (let i = 0; i < availableQuestions.length; i++) {
        if (availableQuestions[i].type === questionType) {
          questionIndex = i;
          break;
        }
      }
      
      // Eƒüer istenen tipte soru yoksa, herhangi bir soru se√ß
      if (questionIndex === -1) {
        questionIndex = 0;
      }
      
      const selectedQuestion = availableQuestions.splice(questionIndex, 1)[0];
      usedQuestions.push(selectedQuestion);
      
      mode = selectedQuestion.type;
      target = selectedQuestion.value;

      if (mode === "harf") {
        speak(`≈ûu harfi yaz: ${target}`, true);
        questionText.textContent = "Bir harf yazmanƒ±z isteniyor...";
      } else {
        speak(`Bu kelimeyi yaz: ${target}`, false);
        questionText.textContent = "Bir kelime yazmanƒ±z isteniyor...";
      }

      answerInput.value = "";
      document.getElementById("message").textContent = "";
      answerInput.focus();
      isWaitingForNextRound = false;
      submitBtn.style.display = 'flex';
      nextBtn.style.display = 'none';
    }

    // Cevabƒ± kontrol et
    function checkAnswer() {
      if (isWaitingForNextRound) return;
      
      let answer = answerInput.value.toUpperCase().trim();
      
      if (answer === "") {
        document.getElementById("message").textContent = "L√ºtfen bir cevap yazƒ±n!";
        document.getElementById("message").className = "wrong";
        return;
      }
      
      if (answer === target) {
        document.getElementById("message").textContent = "Doƒüru";
        document.getElementById("message").className = "correct";
        
        // Alkƒ±≈ü sesini √ßal
        const clapSound = document.getElementById("clap");
        clapSound.currentTime = 0;
        clapSound.play().catch(e => console.log('Ses √ßalƒ±namadƒ±:', e));
        
        launchFireworks();
        
        currentStreak++;
        if (currentStreak > longestStreak) {
          longestStreak = currentStreak;
        }
        updateStreakDisplay();
        
        isWaitingForNextRound = true;
        submitBtn.style.display = 'none';
        nextBtn.style.display = 'flex';
      } else {
        document.getElementById("message").textContent = "Yanlƒ±≈ü";
        document.getElementById("message").className = "wrong";
        
        // Hata sesi √ßal
        const errorSound = document.getElementById("error");
        errorSound.currentTime = 0;
        errorSound.play().catch(e => console.log('Ses √ßalƒ±namadƒ±:', e));
        
        showWrongMark();
        
        currentStreak = 0;
        updateStreakDisplay();
        
        isWaitingForNextRound = true;
        setTimeout(() => {
          isWaitingForNextRound = false;
          answerInput.focus();
        }, 2000);
      }
    }

    // Cevabƒ± temizle
    function clearAnswer() {
      answerInput.value = "";
      answerInput.focus();
    }

    // Sonraki soru butonu
    function nextQuestion() {
      newRound();
    }

    // Soruyu tekrarla
    function repeatQuestion() {
      if (mode === "harf") {
        speak(`≈ûu harfi yaz: ${target}`, true);
      } else {
        speak(`Bu kelimeyi yaz: ${target}`, false);
      }
    }

    // T√ºrk√ße seslendirme (yava≈ü ve tane tane)
    function speak(text, isLetter) {
      // Tarayƒ±cƒ± desteƒüi kontrol√º
      if (!checkBrowserSupport()) {
        return;
      }
      
      // √ñnceki seslendirmeyi durdur
      window.speechSynthesis.cancel();
      
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = "tr-TR";
      
      if (isLetter) {
        // Harf i√ßin daha yava≈ü ve vurgulu
        utter.rate = 0.6;
        utter.pitch = 1.2;
      } else {
        // Kelime i√ßin normalden yava≈ü
        utter.rate = 0.7;
        utter.pitch = 1;
      }
      
      utter.onerror = (event) => {
        console.error('Seslendirme hatasƒ±:', event.error);
      };
      
      window.speechSynthesis.speak(utter);
    }

    // Seri sayacƒ±nƒ± g√ºncelle
    function updateStreakDisplay() {
      currentStreakElement.textContent = currentStreak;
      longestStreakElement.textContent = longestStreak;
    }

    // ‚ùå i≈üaretini g√∂ster
    function showWrongMark() {
      const wrongMark = document.getElementById("wrongMark");
      wrongMark.style.display = "block";
      setTimeout(() => {
        wrongMark.style.display = "none";
      }, 1500);
    }

    // Havai fi≈üek animasyonu
    function launchFireworks() {
      const canvas = document.querySelector(".fireworks");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let particles = [];
      for (let i = 0; i < 80; i++) { // Partik√ºl sayƒ±sƒ±nƒ± azalttƒ±k
        particles.push({
          x: canvas.width/2,
          y: canvas.height/2,
          angle: Math.random() * 2 * Math.PI,
          speed: Math.random() * 4 + 2, // Hƒ±zƒ± biraz azalttƒ±k
          radius: Math.random() * 2 + 2,
          color: `hsl(${Math.random()*360},100%,50%)`,
          life: 80 // √ñmr√º kƒ±salttƒ±k
        });
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
          p.x += Math.cos(p.angle) * p.speed;
          p.y += Math.sin(p.angle) * p.speed;
          p.life--;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI);
          ctx.fillStyle = p.color;
          ctx.fill();
        });
        particles = particles.filter(p => p.life > 0);
        if (particles.length > 0) {
          requestAnimationFrame(animate);
        } else {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
      }
      animate();
    }

    // Event listener'larƒ± ekle
    startBtn.addEventListener("click", startGame);
    submitBtn.addEventListener("click", checkAnswer);
    nextBtn.addEventListener("click", nextQuestion);
    repeatBtn.addEventListener("click", repeatQuestion);
    clearBtn.addEventListener("click", clearAnswer);
    answerInput.addEventListener("keyup", function(e) {
      if (e.key === "Enter" && !isWaitingForNextRound) {
        checkAnswer();
      }
    });

    // Sayfa y√ºklendiƒüinde alfabe butonlarƒ±nƒ± olu≈ütur ve kelime listesini y√ºkle
    window.addEventListener('DOMContentLoaded', async function() {
      createAlphabetButtons();
      checkAudioFiles();
      checkBrowserSupport();
      await loadWordList();
    });
  </script>
</body>
</html>
